{"ast":null,"code":"/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { Base } from '@polymer/polymer/polymer-legacy.js';\n\n/**\n * @polymerMixin\n */\nexport const ArrayDataProviderMixin = superClass => class ArrayDataProviderMixin extends superClass {\n  static get properties() {\n    return {\n      /**\n       * An array containing the items which will be stamped to the column template\n       * instances.\n       */\n      items: Array\n    };\n  }\n  static get observers() {\n    return ['_itemsChanged(items, items.*, isAttached)'];\n  }\n  _itemsChanged(items, splices, isAttached) {\n    if (!isAttached) {\n      return;\n    }\n    if (!Array.isArray(items)) {\n      if (items === undefined || items === null) {\n        this.size = 0;\n      }\n      if (this.dataProvider === this._arrayDataProvider) {\n        this.dataProvider = undefined;\n      }\n      return;\n    }\n    this.size = items.length;\n    this.dataProvider = this.dataProvider || this._arrayDataProvider;\n    this.clearCache();\n    this._ensureFirstPageLoaded();\n  }\n  _arrayDataProvider(opts, cb) {\n    let items = (Array.isArray(this.items) ? this.items : []).slice(0);\n    if (this._filters && this._checkPaths(this._filters, 'filtering', items)) {\n      items = this._filter(items);\n    }\n    this.size = items.length;\n    if (opts.sortOrders.length && this._checkPaths(this._sorters, 'sorting', items)) {\n      items = items.sort(this._multiSort.bind(this));\n    }\n    const start = opts.page * opts.pageSize;\n    const end = start + opts.pageSize;\n    const slice = items.slice(start, end);\n    cb(slice, items.length);\n  }\n\n  /**\n   * Check array of filters/sorters for paths validity, console.warn invalid items\n   * @param {Array}  arrayToCheck The array of filters/sorters to check\n   * @param {string} action       The name of action to include in warning (filtering, sorting)\n   * @param {Array}  items\n   */\n  _checkPaths(arrayToCheck, action, items) {\n    if (!items.length) {\n      return false;\n    }\n    let result = true;\n    for (var i in arrayToCheck) {\n      const path = arrayToCheck[i].path;\n\n      // skip simple paths\n      if (!path || path.indexOf('.') === -1) {\n        continue;\n      }\n      const parentProperty = path.replace(/\\.[^\\.]*$/, ''); // a.b.c -> a.b\n      if (Base.get(parentProperty, items[0]) === undefined) {\n        console.warn(`Path \"${path}\" used for ${action} does not exist in all of the items, ${action} is disabled.`);\n        result = false;\n      }\n    }\n    return result;\n  }\n  _multiSort(a, b) {\n    return this._sorters.map(sort => {\n      if (sort.direction === 'asc') {\n        return this._compare(Base.get(sort.path, a), Base.get(sort.path, b));\n      } else if (sort.direction === 'desc') {\n        return this._compare(Base.get(sort.path, b), Base.get(sort.path, a));\n      }\n      return 0;\n    }).reduce((p, n) => {\n      return p ? p : n;\n    }, 0);\n  }\n  _normalizeEmptyValue(value) {\n    if ([undefined, null].indexOf(value) >= 0) {\n      return '';\n    } else if (isNaN(value)) {\n      return value.toString();\n    } else {\n      return value;\n    }\n  }\n  _compare(a, b) {\n    a = this._normalizeEmptyValue(a);\n    b = this._normalizeEmptyValue(b);\n    if (a < b) {\n      return -1;\n    }\n    if (a > b) {\n      return 1;\n    }\n    return 0;\n  }\n  _filter(items) {\n    return items.filter((item, index) => {\n      return this._filters.filter(filter => {\n        const value = this._normalizeEmptyValue(Base.get(filter.path, item));\n        const filterValueLowercase = this._normalizeEmptyValue(filter.value).toString().toLowerCase();\n        return value.toString().toLowerCase().indexOf(filterValueLowercase) === -1;\n      }).length === 0;\n    });\n  }\n};","map":{"version":3,"names":["Base","ArrayDataProviderMixin","superClass","properties","items","Array","observers","_itemsChanged","splices","isAttached","isArray","undefined","size","dataProvider","_arrayDataProvider","length","clearCache","_ensureFirstPageLoaded","opts","cb","slice","_filters","_checkPaths","_filter","sortOrders","_sorters","sort","_multiSort","bind","start","page","pageSize","end","arrayToCheck","action","result","i","path","indexOf","parentProperty","replace","get","console","warn","a","b","map","direction","_compare","reduce","p","n","_normalizeEmptyValue","value","isNaN","toString","filter","item","index","filterValueLowercase","toLowerCase"],"sources":["C:/Users/Sudebi/Vaadin/Workspace/Angular/AngluarVaadin/using-web-components-in-angular/node_modules/@vaadin/vaadin-grid/src/vaadin-grid-array-data-provider-mixin.js"],"sourcesContent":["/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { Base } from '@polymer/polymer/polymer-legacy.js';\n\n/**\n * @polymerMixin\n */\nexport const ArrayDataProviderMixin = superClass => class ArrayDataProviderMixin extends superClass {\n\n  static get properties() {\n\n    return {\n      /**\n       * An array containing the items which will be stamped to the column template\n       * instances.\n       */\n      items: Array\n\n    };\n  }\n\n  static get observers() {\n    return [\n      '_itemsChanged(items, items.*, isAttached)'\n    ];\n  }\n\n  _itemsChanged(items, splices, isAttached) {\n    if (!isAttached) {\n      return;\n    }\n    if (!Array.isArray(items)) {\n      if (items === undefined || items === null) {\n        this.size = 0;\n      }\n      if (this.dataProvider === this._arrayDataProvider) {\n        this.dataProvider = undefined;\n      }\n      return;\n    }\n\n    this.size = items.length;\n    this.dataProvider = this.dataProvider || this._arrayDataProvider;\n    this.clearCache();\n    this._ensureFirstPageLoaded();\n  }\n\n  _arrayDataProvider(opts, cb) {\n    let items = (Array.isArray(this.items) ? this.items : []).slice(0);\n\n    if (this._filters && this._checkPaths(this._filters, 'filtering', items)) {\n      items = this._filter(items);\n    }\n\n    this.size = items.length;\n\n    if (opts.sortOrders.length && this._checkPaths(this._sorters, 'sorting', items)) {\n      items = items.sort(this._multiSort.bind(this));\n    }\n\n    const start = opts.page * opts.pageSize;\n    const end = start + opts.pageSize;\n    const slice = items.slice(start, end);\n    cb(slice, items.length);\n  }\n\n  /**\n   * Check array of filters/sorters for paths validity, console.warn invalid items\n   * @param {Array}  arrayToCheck The array of filters/sorters to check\n   * @param {string} action       The name of action to include in warning (filtering, sorting)\n   * @param {Array}  items\n   */\n  _checkPaths(arrayToCheck, action, items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let result = true;\n\n    for (var i in arrayToCheck) {\n      const path = arrayToCheck[i].path;\n\n      // skip simple paths\n      if (!path || path.indexOf('.') === -1) {\n        continue;\n      }\n\n      const parentProperty = path.replace(/\\.[^\\.]*$/, ''); // a.b.c -> a.b\n      if (Base.get(parentProperty, items[0]) === undefined) {\n        console.warn(`Path \"${path}\" used for ${action} does not exist in all of the items, ${action} is disabled.`);\n        result = false;\n      }\n    }\n\n    return result;\n  }\n\n  _multiSort(a, b) {\n    return this._sorters.map(sort => {\n      if (sort.direction === 'asc') {\n        return this._compare(Base.get(sort.path, a), Base.get(sort.path, b));\n      } else if (sort.direction === 'desc') {\n        return this._compare(Base.get(sort.path, b), Base.get(sort.path, a));\n      }\n      return 0;\n    }).reduce((p, n) => {\n      return p ? p : n;\n    }, 0);\n  }\n\n  _normalizeEmptyValue(value) {\n    if ([undefined, null].indexOf(value) >= 0) {\n      return '';\n    } else if (isNaN(value)) {\n      return value.toString();\n    } else {\n      return value;\n    }\n  }\n\n  _compare(a, b) {\n    a = this._normalizeEmptyValue(a);\n    b = this._normalizeEmptyValue(b);\n\n    if (a < b) {\n      return -1;\n    }\n    if (a > b) {\n      return 1;\n    }\n    return 0;\n  }\n\n  _filter(items) {\n    return items.filter((item, index) => {\n      return this._filters.filter(filter => {\n        const value = this._normalizeEmptyValue(Base.get(filter.path, item));\n        const filterValueLowercase = this._normalizeEmptyValue(filter.value).toString().toLowerCase();\n        return value.toString().toLowerCase().indexOf(filterValueLowercase) === -1;\n      }).length === 0;\n    });\n  }\n\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}