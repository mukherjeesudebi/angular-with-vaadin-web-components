{"ast":null,"code":"/**\n * @license\n * Copyright (c) 2021 - 2023 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { removeAriaIDReference, restoreGeneratedAriaIDReference, setAriaIDReference } from '@vaadin/a11y-base/src/aria-id-reference.js';\n\n/**\n * A controller for managing ARIA attributes for a field element:\n * either the component itself or slotted `<input>` element.\n */\nexport class FieldAriaController {\n  constructor(host) {\n    this.host = host;\n    this.__required = false;\n  }\n\n  /**\n   * Sets a target element to which ARIA attributes are added.\n   *\n   * @param {HTMLElement} target\n   */\n  setTarget(target) {\n    this.__target = target;\n    this.__setAriaRequiredAttribute(this.__required);\n    // We need to make sure that value in __labelId is stored\n    this.__setLabelIdToAriaAttribute(this.__labelId, this.__labelId);\n    if (this.__labelIdFromUser != null) {\n      this.__setLabelIdToAriaAttribute(this.__labelIdFromUser, this.__labelIdFromUser, true);\n    }\n    this.__setErrorIdToAriaAttribute(this.__errorId);\n    this.__setHelperIdToAriaAttribute(this.__helperId);\n    this.setAriaLabel(this.__label);\n  }\n\n  /**\n   * Toggles the `aria-required` attribute on the target element\n   * if the target is the host component (e.g. a field group).\n   * Otherwise, it does nothing.\n   *\n   * @param {boolean} required\n   */\n  setRequired(required) {\n    this.__setAriaRequiredAttribute(required);\n    this.__required = required;\n  }\n\n  /**\n   * Defines the `aria-label` attribute of the target element.\n   *\n   * To remove the attribute, pass `null` as `label`.\n   *\n   * @param {string | null | undefined} label\n   */\n  setAriaLabel(label) {\n    this.__setAriaLabelToAttribute(label);\n    this.__label = label;\n  }\n\n  /**\n   * Links the target element with a slotted label element\n   * via the target's attribute `aria-labelledby`.\n   *\n   * To unlink the previous slotted label element, pass `null` as `labelId`.\n   *\n   * @param {string | null} labelId\n   */\n  setLabelId(labelId, fromUser = false) {\n    const oldLabelId = fromUser ? this.__labelIdFromUser : this.__labelId;\n    this.__setLabelIdToAriaAttribute(labelId, oldLabelId, fromUser);\n    if (fromUser) {\n      this.__labelIdFromUser = labelId;\n    } else {\n      this.__labelId = labelId;\n    }\n  }\n\n  /**\n   * Links the target element with a slotted error element via the target's attribute:\n   * - `aria-labelledby` if the target is the host component (e.g a field group).\n   * - `aria-describedby` otherwise.\n   *\n   * To unlink the previous slotted error element, pass `null` as `errorId`.\n   *\n   * @param {string | null} errorId\n   */\n  setErrorId(errorId) {\n    this.__setErrorIdToAriaAttribute(errorId, this.__errorId);\n    this.__errorId = errorId;\n  }\n\n  /**\n   * Links the target element with a slotted helper element via the target's attribute:\n   * - `aria-labelledby` if the target is the host component (e.g a field group).\n   * - `aria-describedby` otherwise.\n   *\n   * To unlink the previous slotted helper element, pass `null` as `helperId`.\n   *\n   * @param {string | null} helperId\n   */\n  setHelperId(helperId) {\n    this.__setHelperIdToAriaAttribute(helperId, this.__helperId);\n    this.__helperId = helperId;\n  }\n\n  /**\n   * @param {string | null | undefined} label\n   * @private\n   * */\n  __setAriaLabelToAttribute(label) {\n    if (!this.__target) {\n      return;\n    }\n    if (label) {\n      removeAriaIDReference(this.__target, 'aria-labelledby');\n      this.__target.setAttribute('aria-label', label);\n    } else if (this.__label) {\n      restoreGeneratedAriaIDReference(this.__target, 'aria-labelledby');\n      this.__target.removeAttribute('aria-label');\n    }\n  }\n\n  /**\n   * @param {string | null | undefined} labelId\n   * @param {string | null | undefined} oldLabelId\n   * @param {boolean | null | undefined} fromUser\n   * @private\n   */\n  __setLabelIdToAriaAttribute(labelId, oldLabelId, fromUser) {\n    setAriaIDReference(this.__target, 'aria-labelledby', {\n      newId: labelId,\n      oldId: oldLabelId,\n      fromUser\n    });\n  }\n\n  /**\n   * @param {string | null | undefined} errorId\n   * @param {string | null | undefined} oldErrorId\n   * @private\n   */\n  __setErrorIdToAriaAttribute(errorId, oldErrorId) {\n    setAriaIDReference(this.__target, 'aria-describedby', {\n      newId: errorId,\n      oldId: oldErrorId,\n      fromUser: false\n    });\n  }\n\n  /**\n   * @param {string | null | undefined} helperId\n   * @param {string | null | undefined} oldHelperId\n   * @private\n   */\n  __setHelperIdToAriaAttribute(helperId, oldHelperId) {\n    setAriaIDReference(this.__target, 'aria-describedby', {\n      newId: helperId,\n      oldId: oldHelperId,\n      fromUser: false\n    });\n  }\n\n  /**\n   * @param {boolean} required\n   * @private\n   */\n  __setAriaRequiredAttribute(required) {\n    if (!this.__target) {\n      return;\n    }\n    if (['input', 'textarea'].includes(this.__target.localName)) {\n      // Native <input> or <textarea>, required is enough\n      return;\n    }\n    if (required) {\n      this.__target.setAttribute('aria-required', 'true');\n    } else {\n      this.__target.removeAttribute('aria-required');\n    }\n  }\n}","map":{"version":3,"names":["removeAriaIDReference","restoreGeneratedAriaIDReference","setAriaIDReference","FieldAriaController","constructor","host","__required","setTarget","target","__target","__setAriaRequiredAttribute","__setLabelIdToAriaAttribute","__labelId","__labelIdFromUser","__setErrorIdToAriaAttribute","__errorId","__setHelperIdToAriaAttribute","__helperId","setAriaLabel","__label","setRequired","required","label","__setAriaLabelToAttribute","setLabelId","labelId","fromUser","oldLabelId","setErrorId","errorId","setHelperId","helperId","setAttribute","removeAttribute","newId","oldId","oldErrorId","oldHelperId","includes","localName"],"sources":["C:/Users/Sudebi/Vaadin/Workspace/Angular/AngluarVaadin/using-web-components-in-angular/node_modules/@vaadin/a11y-base/src/field-aria-controller.js"],"sourcesContent":["/**\n * @license\n * Copyright (c) 2021 - 2023 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport {\n  removeAriaIDReference,\n  restoreGeneratedAriaIDReference,\n  setAriaIDReference,\n} from '@vaadin/a11y-base/src/aria-id-reference.js';\n\n/**\n * A controller for managing ARIA attributes for a field element:\n * either the component itself or slotted `<input>` element.\n */\nexport class FieldAriaController {\n  constructor(host) {\n    this.host = host;\n    this.__required = false;\n  }\n\n  /**\n   * Sets a target element to which ARIA attributes are added.\n   *\n   * @param {HTMLElement} target\n   */\n  setTarget(target) {\n    this.__target = target;\n    this.__setAriaRequiredAttribute(this.__required);\n    // We need to make sure that value in __labelId is stored\n    this.__setLabelIdToAriaAttribute(this.__labelId, this.__labelId);\n    if (this.__labelIdFromUser != null) {\n      this.__setLabelIdToAriaAttribute(this.__labelIdFromUser, this.__labelIdFromUser, true);\n    }\n    this.__setErrorIdToAriaAttribute(this.__errorId);\n    this.__setHelperIdToAriaAttribute(this.__helperId);\n    this.setAriaLabel(this.__label);\n  }\n\n  /**\n   * Toggles the `aria-required` attribute on the target element\n   * if the target is the host component (e.g. a field group).\n   * Otherwise, it does nothing.\n   *\n   * @param {boolean} required\n   */\n  setRequired(required) {\n    this.__setAriaRequiredAttribute(required);\n    this.__required = required;\n  }\n\n  /**\n   * Defines the `aria-label` attribute of the target element.\n   *\n   * To remove the attribute, pass `null` as `label`.\n   *\n   * @param {string | null | undefined} label\n   */\n  setAriaLabel(label) {\n    this.__setAriaLabelToAttribute(label);\n    this.__label = label;\n  }\n\n  /**\n   * Links the target element with a slotted label element\n   * via the target's attribute `aria-labelledby`.\n   *\n   * To unlink the previous slotted label element, pass `null` as `labelId`.\n   *\n   * @param {string | null} labelId\n   */\n  setLabelId(labelId, fromUser = false) {\n    const oldLabelId = fromUser ? this.__labelIdFromUser : this.__labelId;\n    this.__setLabelIdToAriaAttribute(labelId, oldLabelId, fromUser);\n    if (fromUser) {\n      this.__labelIdFromUser = labelId;\n    } else {\n      this.__labelId = labelId;\n    }\n  }\n\n  /**\n   * Links the target element with a slotted error element via the target's attribute:\n   * - `aria-labelledby` if the target is the host component (e.g a field group).\n   * - `aria-describedby` otherwise.\n   *\n   * To unlink the previous slotted error element, pass `null` as `errorId`.\n   *\n   * @param {string | null} errorId\n   */\n  setErrorId(errorId) {\n    this.__setErrorIdToAriaAttribute(errorId, this.__errorId);\n    this.__errorId = errorId;\n  }\n\n  /**\n   * Links the target element with a slotted helper element via the target's attribute:\n   * - `aria-labelledby` if the target is the host component (e.g a field group).\n   * - `aria-describedby` otherwise.\n   *\n   * To unlink the previous slotted helper element, pass `null` as `helperId`.\n   *\n   * @param {string | null} helperId\n   */\n  setHelperId(helperId) {\n    this.__setHelperIdToAriaAttribute(helperId, this.__helperId);\n    this.__helperId = helperId;\n  }\n\n  /**\n   * @param {string | null | undefined} label\n   * @private\n   * */\n  __setAriaLabelToAttribute(label) {\n    if (!this.__target) {\n      return;\n    }\n    if (label) {\n      removeAriaIDReference(this.__target, 'aria-labelledby');\n      this.__target.setAttribute('aria-label', label);\n    } else if (this.__label) {\n      restoreGeneratedAriaIDReference(this.__target, 'aria-labelledby');\n      this.__target.removeAttribute('aria-label');\n    }\n  }\n\n  /**\n   * @param {string | null | undefined} labelId\n   * @param {string | null | undefined} oldLabelId\n   * @param {boolean | null | undefined} fromUser\n   * @private\n   */\n  __setLabelIdToAriaAttribute(labelId, oldLabelId, fromUser) {\n    setAriaIDReference(this.__target, 'aria-labelledby', { newId: labelId, oldId: oldLabelId, fromUser });\n  }\n\n  /**\n   * @param {string | null | undefined} errorId\n   * @param {string | null | undefined} oldErrorId\n   * @private\n   */\n  __setErrorIdToAriaAttribute(errorId, oldErrorId) {\n    setAriaIDReference(this.__target, 'aria-describedby', { newId: errorId, oldId: oldErrorId, fromUser: false });\n  }\n\n  /**\n   * @param {string | null | undefined} helperId\n   * @param {string | null | undefined} oldHelperId\n   * @private\n   */\n  __setHelperIdToAriaAttribute(helperId, oldHelperId) {\n    setAriaIDReference(this.__target, 'aria-describedby', { newId: helperId, oldId: oldHelperId, fromUser: false });\n  }\n\n  /**\n   * @param {boolean} required\n   * @private\n   */\n  __setAriaRequiredAttribute(required) {\n    if (!this.__target) {\n      return;\n    }\n\n    if (['input', 'textarea'].includes(this.__target.localName)) {\n      // Native <input> or <textarea>, required is enough\n      return;\n    }\n\n    if (required) {\n      this.__target.setAttribute('aria-required', 'true');\n    } else {\n      this.__target.removeAttribute('aria-required');\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}