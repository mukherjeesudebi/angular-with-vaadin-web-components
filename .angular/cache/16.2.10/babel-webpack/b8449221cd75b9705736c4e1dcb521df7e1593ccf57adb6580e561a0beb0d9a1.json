{"ast":null,"code":"/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { FlattenedNodesObserver } from '@polymer/polymer/lib/utils/flattened-nodes-observer.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\n/**\n * @polymerMixin\n */\nexport const DynamicColumnsMixin = superClass => class DynamicColumnsMixin extends superClass {\n  ready() {\n    super.ready();\n    this._addNodeObserver();\n  }\n  _hasColumnGroups(columns) {\n    for (let i = 0; i < columns.length; i++) {\n      if (columns[i].localName === 'vaadin-grid-column-group') {\n        return true;\n      }\n    }\n    return false;\n  }\n  _getChildColumns(el) {\n    return FlattenedNodesObserver.getFlattenedNodes(el).filter(this._isColumnElement);\n  }\n  _flattenColumnGroups(columns) {\n    return columns.map(col => {\n      if (col.localName === 'vaadin-grid-column-group') {\n        return this._getChildColumns(col);\n      } else {\n        return [col];\n      }\n    }).reduce((prev, curr) => {\n      return prev.concat(curr);\n    }, []);\n  }\n  _getColumnTree() {\n    var rootColumns = FlattenedNodesObserver.getFlattenedNodes(this).filter(this._isColumnElement);\n    var _columnTree = [];\n    for (var c = rootColumns;;) {\n      _columnTree.push(c);\n      if (!this._hasColumnGroups(c)) {\n        break;\n      }\n      c = this._flattenColumnGroups(c);\n    }\n    return _columnTree;\n  }\n  _updateColumnTree() {\n    var columnTree = this._getColumnTree();\n    if (!this._arrayEquals(columnTree, this._columnTree)) {\n      this._columnTree = columnTree;\n    }\n  }\n  _addNodeObserver() {\n    this._observer = new FlattenedNodesObserver(this, info => {\n      const rowDetailsTemplate = info.addedNodes.filter(n => n.localName === 'template' && n.classList.contains('row-details'))[0];\n      if (rowDetailsTemplate && this._rowDetailsTemplate !== rowDetailsTemplate) {\n        this._rowDetailsTemplate = rowDetailsTemplate;\n      }\n      if (info.addedNodes.filter(this._isColumnElement).length > 0 || info.removedNodes.filter(this._isColumnElement).length > 0) {\n        this._updateColumnTree();\n      }\n      this._debouncerCheckImports = Debouncer.debounce(this._debouncerCheckImports, timeOut.after(2000), this._checkImports.bind(this));\n      this._ensureFirstPageLoaded();\n    });\n  }\n  _arrayEquals(arr1, arr2) {\n    if (!arr1 || !arr2 || arr1.length != arr2.length) {\n      return false;\n    }\n    for (var i = 0, l = arr1.length; i < l; i++) {\n      // Check if we have nested arrays\n      if (arr1[i] instanceof Array && arr2[i] instanceof Array) {\n        // recurse into the nested arrays\n        if (!this._arrayEquals(arr1[i], arr2[i])) {\n          return false;\n        }\n      } else if (arr1[i] != arr2[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n  _checkImports() {\n    ['vaadin-grid-column-group', 'vaadin-grid-filter', 'vaadin-grid-filter-column', 'vaadin-grid-tree-toggle', 'vaadin-grid-selection-column', 'vaadin-grid-sort-column', 'vaadin-grid-sorter'].forEach(elementName => {\n      var element = this.querySelector(elementName);\n      if (element && !(element instanceof PolymerElement)) {\n        console.warn(`Make sure you have imported the required module for <${elementName}> element.`);\n      }\n    });\n  }\n  _updateFirstAndLastColumn() {\n    Array.from(this.shadowRoot.querySelectorAll('tr')).forEach(row => this._updateFirstAndLastColumnForRow(row));\n  }\n  _updateFirstAndLastColumnForRow(row) {\n    Array.from(row.querySelectorAll('[part~=\"cell\"]:not([part~=\"details-cell\"])')).sort((a, b) => {\n      return a._column._order - b._column._order;\n    }).forEach((cell, cellIndex, children) => {\n      this._toggleAttribute('first-column', cellIndex === 0, cell);\n      this._toggleAttribute('last-column', cellIndex === children.length - 1, cell);\n    });\n  }\n  _isColumnElement(node) {\n    return node.nodeType === Node.ELEMENT_NODE && /\\bcolumn\\b/.test(node.localName);\n  }\n};","map":{"version":3,"names":["FlattenedNodesObserver","Debouncer","timeOut","PolymerElement","DynamicColumnsMixin","superClass","ready","_addNodeObserver","_hasColumnGroups","columns","i","length","localName","_getChildColumns","el","getFlattenedNodes","filter","_isColumnElement","_flattenColumnGroups","map","col","reduce","prev","curr","concat","_getColumnTree","rootColumns","_columnTree","c","push","_updateColumnTree","columnTree","_arrayEquals","_observer","info","rowDetailsTemplate","addedNodes","n","classList","contains","_rowDetailsTemplate","removedNodes","_debouncerCheckImports","debounce","after","_checkImports","bind","_ensureFirstPageLoaded","arr1","arr2","l","Array","forEach","elementName","element","querySelector","console","warn","_updateFirstAndLastColumn","from","shadowRoot","querySelectorAll","row","_updateFirstAndLastColumnForRow","sort","a","b","_column","_order","cell","cellIndex","children","_toggleAttribute","node","nodeType","Node","ELEMENT_NODE","test"],"sources":["C:/Users/Sudebi/Vaadin/Workspace/Angular/AngluarVaadin/using-web-components-in-angular/node_modules/@vaadin/vaadin-grid/src/vaadin-grid-dynamic-columns-mixin.js"],"sourcesContent":["/**\n@license\nCopyright (c) 2017 Vaadin Ltd.\nThis program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n*/\nimport { FlattenedNodesObserver } from '@polymer/polymer/lib/utils/flattened-nodes-observer.js';\n\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\n/**\n * @polymerMixin\n */\nexport const DynamicColumnsMixin = superClass => class DynamicColumnsMixin extends superClass {\n\n  ready() {\n    super.ready();\n    this._addNodeObserver();\n  }\n\n  _hasColumnGroups(columns) {\n    for (let i = 0; i < columns.length; i++) {\n      if (columns[i].localName === 'vaadin-grid-column-group') {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  _getChildColumns(el) {\n    return FlattenedNodesObserver.getFlattenedNodes(el).filter(this._isColumnElement);\n  }\n\n  _flattenColumnGroups(columns) {\n    return columns.map(col => {\n      if (col.localName === 'vaadin-grid-column-group') {\n        return this._getChildColumns(col);\n      } else {\n        return [col];\n      }\n    }).reduce((prev, curr) => {\n      return prev.concat(curr);\n    }, []);\n  }\n\n  _getColumnTree() {\n    var rootColumns = FlattenedNodesObserver.getFlattenedNodes(this).filter(this._isColumnElement);\n    var _columnTree = [];\n\n    for (var c = rootColumns; ;) {\n      _columnTree.push(c);\n      if (!this._hasColumnGroups(c)) {\n        break;\n      }\n      c = this._flattenColumnGroups(c);\n    }\n\n    return _columnTree;\n  }\n\n  _updateColumnTree() {\n    var columnTree = this._getColumnTree();\n    if (!this._arrayEquals(columnTree, this._columnTree)) {\n      this._columnTree = columnTree;\n    }\n  }\n\n  _addNodeObserver() {\n    this._observer = new FlattenedNodesObserver(this, info => {\n\n      const rowDetailsTemplate = info.addedNodes.filter(n => n.localName === 'template' && n.classList.contains('row-details'))[0];\n      if (rowDetailsTemplate && this._rowDetailsTemplate !== rowDetailsTemplate) {\n        this._rowDetailsTemplate = rowDetailsTemplate;\n      }\n\n      if (info.addedNodes.filter(this._isColumnElement).length > 0 ||\n        info.removedNodes.filter(this._isColumnElement).length > 0) {\n        this._updateColumnTree();\n      }\n\n      this._debouncerCheckImports = Debouncer.debounce(\n        this._debouncerCheckImports,\n        timeOut.after(2000),\n        this._checkImports.bind(this));\n\n      this._ensureFirstPageLoaded();\n    });\n  }\n\n  _arrayEquals(arr1, arr2) {\n    if (!arr1 || !arr2 || arr1.length != arr2.length) {\n      return false;\n    }\n\n    for (var i = 0, l = arr1.length; i < l; i++) {\n      // Check if we have nested arrays\n      if (arr1[i] instanceof Array && arr2[i] instanceof Array) {\n        // recurse into the nested arrays\n        if (!this._arrayEquals(arr1[i], arr2[i])) {\n          return false;\n        }\n      } else if (arr1[i] != arr2[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  _checkImports() {\n    [\n      'vaadin-grid-column-group',\n      'vaadin-grid-filter',\n      'vaadin-grid-filter-column',\n      'vaadin-grid-tree-toggle',\n      'vaadin-grid-selection-column',\n      'vaadin-grid-sort-column',\n      'vaadin-grid-sorter'\n    ].forEach(elementName => {\n      var element = this.querySelector(elementName);\n      if (element && !(element instanceof PolymerElement)) {\n        console.warn(`Make sure you have imported the required module for <${elementName}> element.`);\n      }\n    });\n  }\n\n  _updateFirstAndLastColumn() {\n    Array.from(this.shadowRoot.querySelectorAll('tr')).forEach(row => this._updateFirstAndLastColumnForRow(row));\n  }\n\n  _updateFirstAndLastColumnForRow(row) {\n    Array.from(row.querySelectorAll('[part~=\"cell\"]:not([part~=\"details-cell\"])'))\n      .sort((a, b) => {\n        return a._column._order - b._column._order;\n      }).forEach((cell, cellIndex, children) => {\n        this._toggleAttribute('first-column', cellIndex === 0, cell);\n        this._toggleAttribute('last-column', cellIndex === children.length - 1, cell);\n      });\n  }\n\n  _isColumnElement(node) {\n    return node.nodeType === Node.ELEMENT_NODE && /\\bcolumn\\b/.test(node.localName);\n  }\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,SAASA,sBAAsB,QAAQ,wDAAwD;AAE/F,SAASC,SAAS,QAAQ,wCAAwC;AAClE,SAASC,OAAO,QAAQ,qCAAqC;AAC7D,SAASC,cAAc,QAAQ,qCAAqC;;AAEpE;AACA;AACA;AACA,OAAO,MAAMC,mBAAmB,GAAGC,UAAU,IAAI,MAAMD,mBAAmB,SAASC,UAAU,CAAC;EAE5FC,KAAKA,CAAA,EAAG;IACN,KAAK,CAACA,KAAK,CAAC,CAAC;IACb,IAAI,CAACC,gBAAgB,CAAC,CAAC;EACzB;EAEAC,gBAAgBA,CAACC,OAAO,EAAE;IACxB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,OAAO,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;MACvC,IAAID,OAAO,CAACC,CAAC,CAAC,CAACE,SAAS,KAAK,0BAA0B,EAAE;QACvD,OAAO,IAAI;MACb;IACF;IAEA,OAAO,KAAK;EACd;EAEAC,gBAAgBA,CAACC,EAAE,EAAE;IACnB,OAAOd,sBAAsB,CAACe,iBAAiB,CAACD,EAAE,CAAC,CAACE,MAAM,CAAC,IAAI,CAACC,gBAAgB,CAAC;EACnF;EAEAC,oBAAoBA,CAACT,OAAO,EAAE;IAC5B,OAAOA,OAAO,CAACU,GAAG,CAACC,GAAG,IAAI;MACxB,IAAIA,GAAG,CAACR,SAAS,KAAK,0BAA0B,EAAE;QAChD,OAAO,IAAI,CAACC,gBAAgB,CAACO,GAAG,CAAC;MACnC,CAAC,MAAM;QACL,OAAO,CAACA,GAAG,CAAC;MACd;IACF,CAAC,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,EAAEC,IAAI,KAAK;MACxB,OAAOD,IAAI,CAACE,MAAM,CAACD,IAAI,CAAC;IAC1B,CAAC,EAAE,EAAE,CAAC;EACR;EAEAE,cAAcA,CAAA,EAAG;IACf,IAAIC,WAAW,GAAG1B,sBAAsB,CAACe,iBAAiB,CAAC,IAAI,CAAC,CAACC,MAAM,CAAC,IAAI,CAACC,gBAAgB,CAAC;IAC9F,IAAIU,WAAW,GAAG,EAAE;IAEpB,KAAK,IAAIC,CAAC,GAAGF,WAAW,IAAK;MAC3BC,WAAW,CAACE,IAAI,CAACD,CAAC,CAAC;MACnB,IAAI,CAAC,IAAI,CAACpB,gBAAgB,CAACoB,CAAC,CAAC,EAAE;QAC7B;MACF;MACAA,CAAC,GAAG,IAAI,CAACV,oBAAoB,CAACU,CAAC,CAAC;IAClC;IAEA,OAAOD,WAAW;EACpB;EAEAG,iBAAiBA,CAAA,EAAG;IAClB,IAAIC,UAAU,GAAG,IAAI,CAACN,cAAc,CAAC,CAAC;IACtC,IAAI,CAAC,IAAI,CAACO,YAAY,CAACD,UAAU,EAAE,IAAI,CAACJ,WAAW,CAAC,EAAE;MACpD,IAAI,CAACA,WAAW,GAAGI,UAAU;IAC/B;EACF;EAEAxB,gBAAgBA,CAAA,EAAG;IACjB,IAAI,CAAC0B,SAAS,GAAG,IAAIjC,sBAAsB,CAAC,IAAI,EAAEkC,IAAI,IAAI;MAExD,MAAMC,kBAAkB,GAAGD,IAAI,CAACE,UAAU,CAACpB,MAAM,CAACqB,CAAC,IAAIA,CAAC,CAACzB,SAAS,KAAK,UAAU,IAAIyB,CAAC,CAACC,SAAS,CAACC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5H,IAAIJ,kBAAkB,IAAI,IAAI,CAACK,mBAAmB,KAAKL,kBAAkB,EAAE;QACzE,IAAI,CAACK,mBAAmB,GAAGL,kBAAkB;MAC/C;MAEA,IAAID,IAAI,CAACE,UAAU,CAACpB,MAAM,CAAC,IAAI,CAACC,gBAAgB,CAAC,CAACN,MAAM,GAAG,CAAC,IAC1DuB,IAAI,CAACO,YAAY,CAACzB,MAAM,CAAC,IAAI,CAACC,gBAAgB,CAAC,CAACN,MAAM,GAAG,CAAC,EAAE;QAC5D,IAAI,CAACmB,iBAAiB,CAAC,CAAC;MAC1B;MAEA,IAAI,CAACY,sBAAsB,GAAGzC,SAAS,CAAC0C,QAAQ,CAC9C,IAAI,CAACD,sBAAsB,EAC3BxC,OAAO,CAAC0C,KAAK,CAAC,IAAI,CAAC,EACnB,IAAI,CAACC,aAAa,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;MAEhC,IAAI,CAACC,sBAAsB,CAAC,CAAC;IAC/B,CAAC,CAAC;EACJ;EAEAf,YAAYA,CAACgB,IAAI,EAAEC,IAAI,EAAE;IACvB,IAAI,CAACD,IAAI,IAAI,CAACC,IAAI,IAAID,IAAI,CAACrC,MAAM,IAAIsC,IAAI,CAACtC,MAAM,EAAE;MAChD,OAAO,KAAK;IACd;IAEA,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEwC,CAAC,GAAGF,IAAI,CAACrC,MAAM,EAAED,CAAC,GAAGwC,CAAC,EAAExC,CAAC,EAAE,EAAE;MAC3C;MACA,IAAIsC,IAAI,CAACtC,CAAC,CAAC,YAAYyC,KAAK,IAAIF,IAAI,CAACvC,CAAC,CAAC,YAAYyC,KAAK,EAAE;QACxD;QACA,IAAI,CAAC,IAAI,CAACnB,YAAY,CAACgB,IAAI,CAACtC,CAAC,CAAC,EAAEuC,IAAI,CAACvC,CAAC,CAAC,CAAC,EAAE;UACxC,OAAO,KAAK;QACd;MACF,CAAC,MAAM,IAAIsC,IAAI,CAACtC,CAAC,CAAC,IAAIuC,IAAI,CAACvC,CAAC,CAAC,EAAE;QAC7B,OAAO,KAAK;MACd;IACF;IACA,OAAO,IAAI;EACb;EAEAmC,aAAaA,CAAA,EAAG;IACd,CACE,0BAA0B,EAC1B,oBAAoB,EACpB,2BAA2B,EAC3B,yBAAyB,EACzB,8BAA8B,EAC9B,yBAAyB,EACzB,oBAAoB,CACrB,CAACO,OAAO,CAACC,WAAW,IAAI;MACvB,IAAIC,OAAO,GAAG,IAAI,CAACC,aAAa,CAACF,WAAW,CAAC;MAC7C,IAAIC,OAAO,IAAI,EAAEA,OAAO,YAAYnD,cAAc,CAAC,EAAE;QACnDqD,OAAO,CAACC,IAAI,CAAE,wDAAuDJ,WAAY,YAAW,CAAC;MAC/F;IACF,CAAC,CAAC;EACJ;EAEAK,yBAAyBA,CAAA,EAAG;IAC1BP,KAAK,CAACQ,IAAI,CAAC,IAAI,CAACC,UAAU,CAACC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAACT,OAAO,CAACU,GAAG,IAAI,IAAI,CAACC,+BAA+B,CAACD,GAAG,CAAC,CAAC;EAC9G;EAEAC,+BAA+BA,CAACD,GAAG,EAAE;IACnCX,KAAK,CAACQ,IAAI,CAACG,GAAG,CAACD,gBAAgB,CAAC,4CAA4C,CAAC,CAAC,CAC3EG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;MACd,OAAOD,CAAC,CAACE,OAAO,CAACC,MAAM,GAAGF,CAAC,CAACC,OAAO,CAACC,MAAM;IAC5C,CAAC,CAAC,CAAChB,OAAO,CAAC,CAACiB,IAAI,EAAEC,SAAS,EAAEC,QAAQ,KAAK;MACxC,IAAI,CAACC,gBAAgB,CAAC,cAAc,EAAEF,SAAS,KAAK,CAAC,EAAED,IAAI,CAAC;MAC5D,IAAI,CAACG,gBAAgB,CAAC,aAAa,EAAEF,SAAS,KAAKC,QAAQ,CAAC5D,MAAM,GAAG,CAAC,EAAE0D,IAAI,CAAC;IAC/E,CAAC,CAAC;EACN;EAEApD,gBAAgBA,CAACwD,IAAI,EAAE;IACrB,OAAOA,IAAI,CAACC,QAAQ,KAAKC,IAAI,CAACC,YAAY,IAAI,YAAY,CAACC,IAAI,CAACJ,IAAI,CAAC7D,SAAS,CAAC;EACjF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}